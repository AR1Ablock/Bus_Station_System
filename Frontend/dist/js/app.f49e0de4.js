(function(){"use strict";var e={139:function(e,t,a){var o=a(751),s=a(641);const n={id:"dv"};var r={__name:"App",setup(e){return(e,t)=>{const a=(0,s.g2)("router-link"),o=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",n,[(0,s.Lk)("nav",null,[(0,s.bF)(a,{to:"/register"},{default:(0,s.k6)((()=>[(0,s.eW)("Register")])),_:1}),(0,s.bF)(a,{to:"/login"},{default:(0,s.k6)((()=>[(0,s.eW)("Login")])),_:1}),(0,s.bF)(a,{to:"/booking"},{default:(0,s.k6)((()=>[(0,s.eW)("Booking")])),_:1}),(0,s.bF)(a,{to:"/dashboard"},{default:(0,s.k6)((()=>[(0,s.eW)("Dashboard")])),_:1})]),(0,s.bF)(o)])}}};const l=r;var u=l,i=a(220),c=a(33),p=a(953),d=a(335);const v=e=>((0,s.Qi)("data-v-f8b0b910"),e=e(),(0,s.jt)(),e),k=v((()=>(0,s.Lk)("h2",{class:"heading"},"Login",-1))),h=v((()=>(0,s.Lk)("button",{class:"btn",type:"submit"},"Login",-1))),b={key:0,class:"error"};var m={__name:"Login",setup(e){const t=(0,p.KR)(""),a=(0,p.KR)(""),n=(0,i.rd)(),r=(0,p.KR)("");(0,s.wB)(r,((e,t)=>{e&&setTimeout((()=>{r.value=!1}),1500)}));const l=async()=>{try{const e=await d.A.post("http://localhost:3000/api/login",{username:t.value,password:a.value}).catch((e=>{e.response&&(r.value=e.response.data.message)}));localStorage.setItem("token",e.data.token),n.push("/booking")}catch(e){console.log(e.message)}};return(e,n)=>((0,s.uX)(),(0,s.CE)("div",null,[k,(0,s.Lk)("form",{class:"frm",onSubmit:(0,o.D$)(l,["prevent"])},[(0,s.bo)((0,s.Lk)("input",{class:"inpt",type:"text","onUpdate:modelValue":n[0]||(n[0]=e=>t.value=e),placeholder:"Name",required:""},null,512),[[o.Jo,t.value]]),(0,s.bo)((0,s.Lk)("input",{class:"inpt",type:"password","onUpdate:modelValue":n[1]||(n[1]=e=>a.value=e),placeholder:"Password",required:""},null,512),[[o.Jo,a.value]]),h],32),r.value?((0,s.uX)(),(0,s.CE)("div",b,(0,c.v_)(r.value),1)):(0,s.Q3)("",!0)]))}},g=a(262);const f=(0,g.A)(m,[["__scopeId","data-v-f8b0b910"]]);var L=f;const _=(0,s.Lk)("h2",{class:"heading"},"Register",-1),y={class:"admin"},w=(0,s.Lk)("button",{class:"btn",type:"submit"},"Register",-1),C={key:0,class:"error"};var B={__name:"Register",setup(e){const t=(0,p.KR)(""),a=(0,p.KR)(""),n=(0,p.KR)(!1);var r=(0,p.KR)("user");const l=(0,i.rd)(),u=(0,p.KR)("");(0,s.wB)(n,((e,t)=>{r.value=e?"admin":"user"})),(0,s.wB)(u,((e,t)=>{e&&setTimeout((()=>{u.value=!1}),1500)}));const v=async()=>{try{await d.A.post("http://localhost:3000/api/register",{username:t.value,password:a.value,S_Role:r.value}).catch((e=>{u.value=e.response.data.message})),"Account Already Exist"!==u.value&&l.push("/login")}catch(u){console.error(u)}};return(e,r)=>((0,s.uX)(),(0,s.CE)("div",null,[_,(0,s.Lk)("form",{class:"frm",onSubmit:(0,o.D$)(v,["prevent"])},[(0,s.bo)((0,s.Lk)("input",{class:"inpt",type:"text","onUpdate:modelValue":r[0]||(r[0]=e=>t.value=e),placeholder:"Name",required:""},null,512),[[o.Jo,t.value]]),(0,s.bo)((0,s.Lk)("input",{class:"inpt",type:"password","onUpdate:modelValue":r[1]||(r[1]=e=>a.value=e),placeholder:"Password",required:""},null,512),[[o.Jo,a.value]]),(0,s.Lk)("p",y,[(0,s.eW)("Admin: "),(0,s.bo)((0,s.Lk)("input",{type:"checkbox",name:"admin",id:"chkbx","onUpdate:modelValue":r[2]||(r[2]=e=>n.value=e)},null,512),[[o.lH,n.value]])]),w],32),u.value?((0,s.uX)(),(0,s.CE)("div",C,(0,c.v_)(u.value),1)):(0,s.Q3)("",!0)]))}};const R=B;var S=R;const A=(0,s.Lk)("h2",{class:"heading"},"Bus Schedule",-1),E={key:0,class:"error"},K={class:"sct"},D={class:"sub_sec"},O={class:"sct"},W={class:"sub_sec"},T={class:"sct"},x={class:"sub_sec"},U={class:"sct"},X={class:"sub_sec"},F={class:"sct"},j={class:"sub_sec"},N={class:"sct"},V={class:"sub_sec"},P={class:"sct"},q={class:"sub_sec"},I={class:"sct"},J={class:"sub_sec"};var Q={__name:"Dashboard",setup(e){const t=(0,p.KR)("");(0,s.wB)(t,((e,a)=>{e&&setTimeout((()=>{t.value=!1}),1500)}));const a=(0,p.KR)([]),o=async()=>{try{const e=localStorage.getItem("token"),o=await d.A.get("http://localhost:3000/api/dashboard",{headers:{Authorization:e}}).catch((e=>{e.response&&(t.value=e.response.data.message)}));a.value=o.data.map((e=>({...e,Booked_at:new Date(e.Booked_at).toLocaleDateString()})))}catch(t){console.error(t)}};return(0,s.sV)(o),(e,o)=>((0,s.uX)(),(0,s.CE)("div",null,[A,(0,s.Lk)("section",null,[t.value?((0,s.uX)(),(0,s.CE)("div",E,(0,c.v_)(t.value),1)):(0,s.Q3)("",!0),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.value,(e=>((0,s.uX)(),(0,s.CE)("p",{class:"Users",key:e.id},[(0,s.Lk)("section",K,[(0,s.Lk)("h3",D,[(0,s.eW)(" Passenger Name: "),(0,s.Lk)("span",null,(0,c.v_)(e.username),1)])]),(0,s.Lk)("section",O,[(0,s.Lk)("h3",W,[(0,s.eW)(" ID: "),(0,s.Lk)("span",null,(0,c.v_)(e.id),1)])]),(0,s.Lk)("section",T,[(0,s.Lk)("h3",x,[(0,s.eW)(" Current City: "),(0,s.Lk)("span",null,(0,c.v_)(e.Source_City),1)])]),(0,s.Lk)("section",U,[(0,s.Lk)("h3",X,[(0,s.eW)(" Destination City: "),(0,s.Lk)("span",null,(0,c.v_)(e.Destination_City),1)])]),(0,s.Lk)("section",F,[(0,s.Lk)("h3",j,[(0,s.eW)(" Arrival Time: "),(0,s.Lk)("span",null,(0,c.v_)(e.Bus_Arrival_time),1)])]),(0,s.Lk)("section",N,[(0,s.Lk)("h3",V,[(0,s.eW)(" Departure Time: "),(0,s.Lk)("span",null,(0,c.v_)(e.Bus_Departure_time),1)])]),(0,s.Lk)("section",P,[(0,s.Lk)("h3",q,[(0,s.eW)(" Bus Number: "),(0,s.Lk)("span",null,(0,c.v_)(e.bus_number),1)])]),(0,s.Lk)("section",I,[(0,s.Lk)("h3",J,[(0,s.eW)(" Booked At: "),(0,s.Lk)("span",null,(0,c.v_)(e.Booked_at),1)])])])))),128))])]))}};const $=Q;var z=$;const M=(0,s.Lk)("h2",{class:"heading"},"Booking",-1),H=(0,s.Lk)("button",{class:"btn",type:"submit"},"Book",-1),G={key:0,class:"error"};var Y={__name:"Booking",setup(e){const t=(0,i.rd)(),a=(0,p.KR)(""),n=(0,p.KR)(""),r=(0,p.KR)("");(0,s.wB)(r,((e,t)=>{e&&setTimeout((()=>{r.value=!1}),1500)}));const l=async()=>{try{const e=localStorage.getItem("token");await d.A.post("http://localhost:3000/api/booking",{SourceCity:a.value,TargetCity:n.value},{headers:{Authorization:e}}).catch((e=>{e.response&&(r.value=e.response.data.message)})),"Booking Failed, User Not Logged or User Not in Database"!==r.value.toString()&&"No Logged-in User Found, Booking Failed"!==r.value.toString()&&t.push("/dashboard")}catch(r){console.error(r)}};return(e,t)=>((0,s.uX)(),(0,s.CE)("div",null,[M,(0,s.Lk)("form",{class:"frm",onSubmit:(0,o.D$)(l,["prevent"])},[(0,s.bo)((0,s.Lk)("input",{class:"inpt",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),placeholder:"Current City Name",required:""},null,512),[[o.Jo,a.value]]),(0,s.bo)((0,s.Lk)("input",{class:"inpt",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>n.value=e),placeholder:"Target City Name",required:""},null,512),[[o.Jo,n.value]]),H],32),r.value?((0,s.uX)(),(0,s.CE)("div",G,(0,c.v_)(r.value),1)):(0,s.Q3)("",!0)]))}};const Z=Y;var ee=Z;const te=[{path:"/",redirect:"/login"},{path:"/login",component:L},{path:"/register",component:S},{path:"/dashboard",component:z},{path:"/booking",component:ee}],ae=(0,i.aE)({history:(0,i.LA)(),routes:te});var oe=ae;(0,o.Ef)(u).use(oe).mount("#app")}},t={};function a(o){var s=t[o];if(void 0!==s)return s.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,o,s,n){if(!o){var r=1/0;for(c=0;c<e.length;c++){o=e[c][0],s=e[c][1],n=e[c][2];for(var l=!0,u=0;u<o.length;u++)(!1&n||r>=n)&&Object.keys(a.O).every((function(e){return a.O[e](o[u])}))?o.splice(u--,1):(l=!1,n<r&&(r=n));if(l){e.splice(c--,1);var i=s();void 0!==i&&(t=i)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[o,s,n]}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,n,r=o[0],l=o[1],u=o[2],i=0;if(r.some((function(t){return 0!==e[t]}))){for(s in l)a.o(l,s)&&(a.m[s]=l[s]);if(u)var c=u(a)}for(t&&t(o);i<r.length;i++)n=r[i],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(c)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504],(function(){return a(139)}));o=a.O(o)})();
//# sourceMappingURL=app.f49e0de4.js.map